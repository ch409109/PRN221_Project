@page
@model BookingTicketOnline.Pages.ManageShowTime.IndexModel
@{
    ViewData["Title"] = "Manage ShowTime";
}

<h2>Showtime Schedule</h2>

<!-- Calendar view with weekly slots -->
<div class="container mt-4">
    <div class="calendar-view">
        <div class="row text-center bg-primary text-white">
            <div class="col">Sunday</div>
            <div class="col">Monday</div>
            <div class="col">Tuesday</div>
            <div class="col">Wednesday</div>
            <div class="col">Thursday</div>
            <div class="col">Friday</div>
            <div class="col">Saturday</div>
        </div>
        <div class="row border">
            @foreach (var day in Enumerable.Range(0, 7))
            {
                <div class="col border">
                    <div class="day-slot">
                        <strong>@DateTime.Today.AddDays(day).ToString("dd MMM yyyy")</strong>
                        <ul class="showtime-list mt-2">
                            @foreach (var show in Model.Showtimes.Where(s => s.Date?.DayOfWeek == (DayOfWeek)day))
                            {
                                <li>
                                    <strong>@show.Movie?.Title</strong><br />
                                    Room: @show.Room?.Name <br />
                                    Start: @show.StartTime <br />
                                    End: @show.EndTime
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

<!-- Styling for calendar view -->
<style>
    .calendar-view {
        border: 1px solid #ddd;
        padding: 10px;
        border-radius: 8px;
        background-color: #f9f9f9;
    }

    .day-slot {
        padding: 8px;
        min-height: 150px;
    }

    .showtime-list {
        list-style-type: none;
        padding: 0;
    }

        .showtime-list li {
            background: #e3f2fd;
            margin: 5px 0;
            padding: 5px;
            border-radius: 5px;
        }
</style>
