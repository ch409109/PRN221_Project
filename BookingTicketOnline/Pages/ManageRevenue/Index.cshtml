@page
@model BookingTicketOnline.Pages.ManagerRevenue.IndexModel
@{
    ViewData["Title"] = "Revenue Index";
    Layout = "_MovieTheaterOwnerLayout";
}

<div class="container my-5">
    <h1 class="mb-4">Revenue Management</h1>

    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-3">
        <!-- Form for filtering -->
        <form method="get" class="w-100 w-md-50">
            <div class="input-group">
                <!-- Combobox for selecting Cinema -->
                <select asp-for="SelectedCinemaId" asp-items="Model.CinemaList" class="form-select me-2">
                    <option value="">Chọn rạp</option>
                </select>
                <!-- Combobox for selecting Year -->
                <select asp-for="SelectedYear" asp-items="Model.YearList" class="form-select me-2">
                    <option value="">Chọn năm</option>
                </select>
                <!-- Combobox for selecting Quarter -->
                <select asp-for="SelectedQuarter" class="form-select me-2">
                    <option value="">Chọn Quý</option>
                    <option value="1">Quý 1</option>
                    <option value="2">Quý 2</option>
                    <option value="3">Quý 3</option>
                    <option value="4">Quý 4</option>
                </select>
                <button class="btn btn-outline-primary" type="submit" style="margin-right: 1%">Filter</button>

               
            </div>
        </form>
        <form method="post">
            <button class="btn btn-outline-primary" type="submit">Refresh</button>
        </form>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead class="table-light">
                <tr>
                    <th>Cinema</th>
                    <th>Total Revenue</th>
                    <th>Quarter</th>
                    <th>Year</th>
                    <th>View</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Revenue)
                {
                    <tr>
                        <td>@item.Cinema?.Name</td>
                        <td>@(item.TotalRevenue?.ToString("N0") ?? "0")</td>
                        <td> Quý @item.Quarter</td>
                        <td>@item.Year</td>
                        <td>
                            <a asp-page="/ManageRevenue/Details" asp-route-id="@item.Id">
                                <i class="bi bi-eye"></i>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- Include Bootstrap Icons for styling -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css" rel="stylesheet">

@section Scripts {
    <script>
        // JavaScript for client-side filter (if needed)
    </script>
}
